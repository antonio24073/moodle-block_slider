define(["jquery"],function(t){return function(){var i,e,s,a,n,o;i=t,e=window,s=document,o="slidesjs",n={width:940,height:528,start:1,navigation:{active:!0,effect:"slide"},pagination:{active:!0,effect:"slide"},play:{active:!1,effect:"slide",interval:5e3,auto:!1,swap:!0,pauseOnHover:!1,restartDelay:2500},effect:{slide:{speed:500},fade:{speed:300,crossfade:!0}},callback:{loaded:function(){},start:function(){},complete:function(){}}},(a=function(t,e){this.element=t,this.options=i.extend(!0,{},n,e),this._defaults=n,this._name=o,this.init()}).prototype.init=function(){var t,s,a,n,o=this;return t=i(this.element),this.data=i.data(this),i.data(this,"animating",!1),i.data(this,"total",t.children().not(".slidesjs-navigation",t).length),i.data(this,"current",this.options.start-1),i.data(this,"vendorPrefix",this._getVendorPrefix()),"undefined"!=typeof TouchEvent&&(i.data(this,"touch",!0),this.options.effect.slide.speed=this.options.effect.slide.speed/2),t.css({overflow:"hidden"}),t.slidesContainer=t.children().not(".slidesjs-navigation",t).wrapAll("<div class='slidesjs-container'>",t).parent().css({overflow:"hidden",position:"relative"}),i(".slidesjs-container",t).wrapInner("<div class='slidesjs-control'>",t).children(),i(".slidesjs-control",t).css({position:"relative",left:0}),i(".slidesjs-control",t).children().addClass("slidesjs-slide").css({position:"absolute",top:0,left:0,width:"100%",zIndex:0,display:"none",webkitBackfaceVisibility:"hidden"}),i.each(i(".slidesjs-control",t).children(),function(t){return i(this).attr("slidesjs-index",t)}),this.data.touch&&(i(".slidesjs-control",t).on("touchstart",function(t){return o._touchstart(t)}),i(".slidesjs-control",t).on("touchmove",function(t){return o._touchmove(t)}),i(".slidesjs-control",t).on("touchend",function(t){return o._touchend(t)})),t.fadeIn(0),this.update(),this.data.touch&&this._setuptouch(),i(".slidesjs-control",t).children(":eq("+this.data.current+")").eq(0).fadeIn(0,function(){return i(this).css({zIndex:10})}),this.options.navigation.active&&(i("<a>",{class:"slidesjs-previous slidesjs-navigation",href:"#",title:"Previous",text:"Previous"}).appendTo(t),i("<a>",{class:"slidesjs-next slidesjs-navigation",href:"#",title:"Next",text:"Next"}).appendTo(t)),i(".slidesjs-next",t).click(function(t){return t.preventDefault(),o.stop(!0),o.next(o.options.navigation.effect)}),i(".slidesjs-previous",t).click(function(t){return t.preventDefault(),o.stop(!0),o.previous(o.options.navigation.effect)}),this.options.play.active&&(a=i("<a>",{class:"slidesjs-play slidesjs-navigation",href:"#",title:"Play",text:"Play"}).appendTo(t),n=i("<a>",{class:"slidesjs-stop slidesjs-navigation",href:"#",title:"Stop",text:"Stop"}).appendTo(t),a.click(function(t){return t.preventDefault(),o.play(!0)}),n.click(function(t){return t.preventDefault(),o.stop(!0)}),this.options.play.swap&&n.css({display:"none"})),this.options.pagination.active&&(s=i("<ul>",{class:"slidesjs-pagination"}).appendTo(t),i.each(new Array(this.data.total),function(t){var e;return e=i("<li>",{class:"slidesjs-pagination-item"}).appendTo(s),i("<a>",{href:"#","data-slidesjs-item":t,html:t+1}).appendTo(e).click(function(t){return t.preventDefault(),o.stop(!0),o.goto(1*i(t.currentTarget).attr("data-slidesjs-item")+1)})})),i(e).bind("resize",function(){return o.update()}),this._setActive(),this.options.play.auto&&this.play(),this.options.callback.loaded(this.options.start)},a.prototype._setActive=function(t){var e,s;return e=i(this.element),this.data=i.data(this),s=t>-1?t:this.data.current,i(".active",e).removeClass("active"),i(".slidesjs-pagination li:eq("+s+") a",e).addClass("active")},a.prototype.update=function(){var t,e,s;return t=i(this.element),this.data=i.data(this),i(".slidesjs-control",t).children(":not(:eq("+this.data.current+"))").css({display:"none",left:0,zIndex:0}),s=t.width(),e=this.options.height/this.options.width*s,this.options.width=s,this.options.height=e,i(".slidesjs-control, .slidesjs-container",t).css({width:s,height:e})},a.prototype.next=function(t){return i(this.element),this.data=i.data(this),i.data(this,"direction","next"),void 0===t&&(t=this.options.navigation.effect),"fade"===t?this._fade():this._slide()},a.prototype.previous=function(t){return i(this.element),this.data=i.data(this),i.data(this,"direction","previous"),void 0===t&&(t=this.options.navigation.effect),"fade"===t?this._fade():this._slide()},a.prototype.goto=function(t){var e;if(i(this.element),this.data=i.data(this),void 0===e&&(e=this.options.pagination.effect),t>this.data.total?t=this.data.total:t<1&&(t=1),"number"==typeof t)return"fade"===e?this._fade(t):this._slide(t);if("string"==typeof t){if("first"===t)return"fade"===e?this._fade(0):this._slide(0);if("last"===t)return"fade"===e?this._fade(this.data.total):this._slide(this.data.total)}},a.prototype._setuptouch=function(){var t,e,s,a;return t=i(this.element),this.data=i.data(this),a=i(".slidesjs-control",t),e=this.data.current+1,(s=this.data.current-1)<0&&(s=this.data.total-1),e>this.data.total-1&&(e=0),a.children(":eq("+e+")").css({display:"block",left:this.options.width}),a.children(":eq("+s+")").css({display:"block",left:-this.options.width})},a.prototype._touchstart=function(t){var e;return i(this.element),this.data=i.data(this),e=t.originalEvent.touches[0],this._setuptouch(),i.data(this,"touchtimer",Number(new Date)),i.data(this,"touchstartx",e.pageX),i.data(this,"touchstarty",e.pageY),t.stopPropagation()},a.prototype._touchend=function(t){var e,s,a,n,o,d,r=this;return e=i(this.element),this.data=i.data(this),t.originalEvent.touches[0],(n=i(".slidesjs-control",e)).position().left>.5*this.options.width||n.position().left>.1*this.options.width&&Number(new Date)-this.data.touchtimer<250?(i.data(this,"direction","previous"),this._slide()):n.position().left<-.5*this.options.width||n.position().left<-.1*this.options.width&&Number(new Date)-this.data.touchtimer<250?(i.data(this,"direction","next"),this._slide()):(a=this.data.vendorPrefix,d=a+"Transform",s=a+"TransitionDuration",o=a+"TransitionTimingFunction",n[0].style[d]="translateX(0px)",n[0].style[s]=.85*this.options.effect.slide.speed+"ms"),n.on("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",function(){return a=r.data.vendorPrefix,d=a+"Transform",s=a+"TransitionDuration",o=a+"TransitionTimingFunction",n[0].style[d]="",n[0].style[s]="",n[0].style[o]=""}),t.stopPropagation()},a.prototype._touchmove=function(t){var e,s,a,n,o;return e=i(this.element),this.data=i.data(this),n=t.originalEvent.touches[0],s=this.data.vendorPrefix,a=i(".slidesjs-control",e),o=s+"Transform",i.data(this,"scrolling",Math.abs(n.pageX-this.data.touchstartx)<Math.abs(n.pageY-this.data.touchstarty)),this.data.animating||this.data.scrolling||(t.preventDefault(),this._setuptouch(),a[0].style[o]="translateX("+(n.pageX-this.data.touchstartx)+"px)"),t.stopPropagation()},a.prototype.play=function(t){var e,s,a=this;if(e=i(this.element),this.data=i.data(this),!this.data.playInterval&&(t&&(this.data.current,this.data.direction="next","fade"===this.options.play.effect?this._fade():this._slide()),i.data(this,"playInterval",setInterval(function(){return a.data.current,a.data.direction="next","fade"===a.options.play.effect?a._fade():a._slide()},this.options.play.interval)),s=i(".slidesjs-container",e),this.options.play.pauseOnHover&&(s.unbind(),s.bind("mouseenter",function(){return a.stop()}),s.bind("mouseleave",function(){return a.options.play.restartDelay?i.data(a,"restartDelay",setTimeout(function(){return a.play(!0)},a.options.play.restartDelay)):a.play()})),i.data(this,"playing",!0),i(".slidesjs-play",e).addClass("slidesjs-playing"),this.options.play.swap))return i(".slidesjs-play",e).hide(),i(".slidesjs-stop",e).show()},a.prototype.stop=function(t){var e;if(e=i(this.element),this.data=i.data(this),clearInterval(this.data.playInterval),this.options.play.pauseOnHover&&t&&i(".slidesjs-container",e).unbind(),i.data(this,"playInterval",null),i.data(this,"playing",!1),i(".slidesjs-play",e).removeClass("slidesjs-playing"),this.options.play.swap)return i(".slidesjs-stop",e).hide(),i(".slidesjs-play",e).show()},a.prototype._slide=function(t){var e,s,a,n,o,d,r,l,h,c=this;if(e=i(this.element),this.data=i.data(this),!this.data.animating&&t!==this.data.current+1)return i.data(this,"animating",!0),s=this.data.current,t>-1?(h=(t-=1)>s?1:-1,a=t>s?-this.options.width:this.options.width,o=t):(h="next"===this.data.direction?1:-1,a="next"===this.data.direction?-this.options.width:this.options.width,o=s+h),-1===o&&(o=this.data.total-1),o===this.data.total&&(o=0),this._setActive(o),r=i(".slidesjs-control",e),t>-1&&r.children(":not(:eq("+s+"))").css({display:"none",left:0,zIndex:0}),r.children(":eq("+o+")").css({display:"block",left:h*this.options.width,zIndex:10}),this.options.callback.start(s+1),this.data.vendorPrefix?(d=this.data.vendorPrefix,l=d+"Transform",n=d+"TransitionDuration",r[0].style[l]="translateX("+a+"px)",r[0].style[n]=this.options.effect.slide.speed+"ms",r.on("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",function(){return r[0].style[l]="",r[0].style[n]="",r.children(":eq("+o+")").css({left:0}),r.children(":eq("+s+")").css({display:"none",left:0,zIndex:0}),i.data(c,"current",o),i.data(c,"animating",!1),r.unbind("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd"),r.children(":not(:eq("+o+"))").css({display:"none",left:0,zIndex:0}),c.data.touch&&c._setuptouch(),c.options.callback.complete(o+1)})):r.stop().animate({left:a},this.options.effect.slide.speed,function(){return r.css({left:0}),r.children(":eq("+o+")").css({left:0}),r.children(":eq("+s+")").css({display:"none",left:0,zIndex:0},i.data(c,"current",o),i.data(c,"animating",!1),c.options.callback.complete(o+1))})},a.prototype._fade=function(t){var e,s,a,n,o,d=this;if(e=i(this.element),this.data=i.data(this),!this.data.animating&&t!==this.data.current+1)return i.data(this,"animating",!0),s=this.data.current,t?(o=(t-=1)>s?1:-1,a=t):(o="next"===this.data.direction?1:-1,a=s+o),-1===a&&(a=this.data.total-1),a===this.data.total&&(a=0),this._setActive(a),(n=i(".slidesjs-control",e)).children(":eq("+a+")").css({display:"none",left:0,zIndex:10}),this.options.callback.start(s+1),this.options.effect.fade.crossfade?(n.children(":eq("+this.data.current+")").stop().fadeOut(this.options.effect.fade.speed),n.children(":eq("+a+")").stop().fadeIn(this.options.effect.fade.speed,function(){return n.children(":eq("+a+")").css({zIndex:0}),i.data(d,"animating",!1),i.data(d,"current",a),d.options.callback.complete(a+1)})):n.children(":eq("+s+")").stop().fadeOut(this.options.effect.fade.speed,function(){return n.children(":eq("+a+")").stop().fadeIn(d.options.effect.fade.speed,function(){return n.children(":eq("+a+")").css({zIndex:10})}),i.data(d,"animating",!1),i.data(d,"current",a),d.options.callback.complete(a+1)})},a.prototype._getVendorPrefix=function(){var t,i,e,a;for(i=(s.body||s.documentElement).style,a=["Moz","Webkit","Khtml","O","ms"],e=(e="transition").charAt(0).toUpperCase()+e.substr(1),t=0;t<a.length;){if("string"==typeof i[a[t]+e])return a[t];t++}return!1},i.fn[o]=function(t){return this.each(function(){if(!i.data(this,"plugin_"+o))return i.data(this,"plugin_"+o,new a(this,t))})}}.call(this),{init:function(i,e,s,a,n,o,d){t(function(){t("#slides").slidesjs({width:i,height:e,navigation:{active:d,effect:s},pagination:{active:o,effect:s},play:{active:!1,effect:s,interval:a,auto:n,swap:!1,pauseOnHover:!0,restartDelay:a}})})}}});